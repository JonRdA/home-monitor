# -------------------------------
# Mosquitto Configuration Example
# -------------------------------

# 1) Default MQTT listener on port 1883 (unencrypted)
listener 1883

# Allow anonymous connections (no username/password).
# For development only. In production, disable this and configure authentication.
allow_anonymous true

# 2) Optional WebSocket listener (uncomment to enable, default port 9001)
# listener 9001
# protocol websockets

# 3) Persistence stores retained messages and queued QoS messages
# Saved in /mosquitto/data (host-mounted volume)
persistence true
persistence_location /mosquitto/data/

# 4) Logging settings
# Logs go to /mosquitto/log (host-mounted volume)
log_dest file /mosquitto/log/mosquitto.log
log_dest stdout
log_type error
log_type warning
log_type notice
log_type information
connection_messages true
log_timestamp true

# 5) Include extra configs (for modular setups, optional)
# include_dir /mosquitto/config/conf.d
